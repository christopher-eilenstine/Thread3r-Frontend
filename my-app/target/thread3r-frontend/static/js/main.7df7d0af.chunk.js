(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{113:function(e,t,r){},330:function(e,t,r){},337:function(e,t,r){},407:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r(22),s=r.n(c),o=r(19),i=r(2),u=r(5),l=r(29),j=(r(190),r(28)),d=r.n(j),b="http://csci4830.ddns.net:8080/thread3r-backend/api/auth/",h={register:function(e,t,r){return d.a.post(b+"register",{username:e,email:t,password:r})},login:function(e,t){return d.a.post(b+"login",{username:e,password:t}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user")},getCurrentUser:function(){return JSON.parse(localStorage.getItem("user"))}},p=r(104),O=r.n(p),m=r(66),f=r.n(m),x=r(105),v=r.n(x),g=(r(113),function(e){if(!e)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})}),w=function(e){var t=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(a.useState)(""),s=Object(u.a)(c,2),o=s[0],i=s[1],l=Object(a.useState)(""),j=Object(u.a)(l,2),d=j[0],b=j[1],p=Object(a.useState)(!1),m=Object(u.a)(p,2),x=m[0],w=m[1],y=Object(a.useState)(""),C=Object(u.a)(y,2),N=C[0],S=C[1];return Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"card card-container",children:[Object(n.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(n.jsxs)(O.a,{onSubmit:function(n){n.preventDefault(),S(""),w(!0),t.current.validateAll(),0===r.current.context._errors.length?h.login(o,d).then((function(){e.history.push("/profile"),window.location.reload()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();w(!1),S(t)})):w(!1)},ref:t,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"username",children:"Username"}),Object(n.jsx)(f.a,{type:"text",className:"form-control",name:"username",value:o,onChange:function(e){var t=e.target.value;i(t)},validations:[g]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)(f.a,{type:"password",className:"form-control",name:"password",value:d,onChange:function(e){var t=e.target.value;b(t)},validations:[g]})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("button",{className:"btn btn-primary btn-block",disabled:x,children:[x&&Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{children:"Login"})]})}),N&&Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:N})}),Object(n.jsx)(v.a,{style:{display:"none"},ref:r})]})]})})},y=r(166),C=function(e){if(!e)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},N=function(e){if(!Object(y.isEmail)(e))return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},S=function(e){if(e.length<3||e.length>20)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},k=function(e){if(e.length<6||e.length>40)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},T=function(e){var t=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(a.useState)(""),s=Object(u.a)(c,2),o=s[0],i=s[1],l=Object(a.useState)(""),j=Object(u.a)(l,2),d=j[0],b=j[1],p=Object(a.useState)(""),m=Object(u.a)(p,2),x=m[0],g=m[1],w=Object(a.useState)(""),y=Object(u.a)(w,2),T=y[0],G=y[1],U=Object(a.useState)(!1),I=Object(u.a)(U,2),E=I[0],z=I[1],P=Object(a.useState)(""),A=Object(u.a)(P,2),D=A[0],F=A[1];return Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"card card-container",children:[Object(n.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(n.jsxs)(O.a,{onSubmit:function(e){e.preventDefault(),F(""),z(!1),t.current.validateAll(),0===r.current.context._errors.length&&(x!==T?(F("The passwords do not match"),z(!1)):h.register(o,d,x).then((function(e){F(e.data.message),z(!0)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();F(t),z(!1)})))},ref:t,children:[!E&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"username",children:"Username"}),Object(n.jsx)(f.a,{type:"text",className:"form-control",name:"username",value:o,onChange:function(e){var t=e.target.value;i(t)},validations:[C,S]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"email",children:"Email"}),Object(n.jsx)(f.a,{type:"text",className:"form-control",name:"email",value:d,onChange:function(e){var t=e.target.value;b(t)},validations:[C,N]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)(f.a,{type:"password",className:"form-control",name:"password",value:x,onChange:function(e){var t=e.target.value;g(t)},validations:[C,k]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"verifypassword",children:"Verify Password"}),Object(n.jsx)(f.a,{type:"password",className:"form-control",name:"verifyPassword",value:T,onChange:function(e){var t=e.target.value;G(t)}})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})})]}),D&&Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("div",{className:E?"alert alert-success":"alert alert-danger",role:"alert",children:D})}),Object(n.jsx)(v.a,{style:{display:"none"},ref:r})]})]})})},G=r(9),U=r.n(G),I=r(23);function E(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var z="http://csci4830.ddns.net:8080/thread3r-backend/api/groups/",P=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+"created",{headers:E()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+"threads/created",{headers:E()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+"threads/comments/created",{headers:E()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+"subscribed",{userId:t,headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+t,{headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q={getCreatedGroups:P,getCreatedThreads:A,getCreatedComments:D,getSubscribed:F,searchGroups:function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+"search?name=",{searchToken:t,headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllGroups:function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z,{headers:E()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllThreads:function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+"threads",{headers:E()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getGroupThreads:function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+t+"/threads",{headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postThread:function(){var e=Object(I.a)(U.a.mark((function e(t,r,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(z+t+"/threads",{title:r,content:n},{headers:E()});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),getThread:function(){var e=Object(I.a)(U.a.mark((function e(t,r){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+t+"/threads/"+r,{headers:E()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),getGroup:Y,getComments:function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(z+"threads/"+t+"/comments",{headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postComment:function(){var e=Object(I.a)(U.a.mark((function e(t,r){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(z+"threads/"+t+"/comments",{content:r},{headers:E()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Subscribe:function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(z+t+"/subscribe",{},{headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unSubscribe:function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(z+t+"/unsubscribe",{},{headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createGroup:function(){var e=Object(I.a)(U.a.mark((function e(t,r){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(z,{name:t,description:r},{headers:E()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),deleteGroup:function(){var e=Object(I.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete(z+t,{headers:E()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteThread:function(){var e=Object(I.a)(U.a.mark((function e(t,r){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete(z+t+"/threads/"+r,{headers:E()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},R=r(83),B=r(52),J=r(414),_=r(67),L=(r(96),function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),r=t[0],c=t[1];return Object(a.useEffect)((function(){q.getAllThreads().then((function(e){e.sort((function(e,t){var r=new Date(e.created);return new Date(t.created).getTime()-r.getTime()})),c(e)})).catch((function(e){console.error(e)}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("center",{children:Object(n.jsx)("h1",{children:"Recent Threads"})}),Object(n.jsx)("ul",{children:r.map((function(e){return Object(n.jsx)(R.a,{gutter:16,className:"group-row",children:Object(n.jsx)(B.a,{span:23,children:Object(n.jsx)(J.a,{title:e.title,type:"inner",extra:Object(n.jsx)(o.b,{to:"/groups/"+e.group,children:"Go to Group"}),bordered:!0,children:Object(n.jsxs)(o.b,{to:"/threads/"+e.group+"/"+e.id,children:[Object(n.jsx)(_.a,{type:"primary",children:"Go To Thread"}),Object(n.jsx)("br",{})]})})})})}))})]})}),W=r(124),V=r(412),H=r(410),$=r(180),K=W.a.TabPane,M=function(){var e=h.getCurrentUser(),t=Object(a.useState)([]),r=Object(u.a)(t,2),c=r[0],s=r[1],i=Object(a.useState)(""),l=Object(u.a)(i,2),j=l[0],d=l[1],b=Object(a.useState)([]),p=Object(u.a)(b,2),O=p[0],m=p[1],f=Object(a.useState)(""),x=Object(u.a)(f,2),v=x[0],g=x[1],w=Object(a.useState)([]),y=Object(u.a)(w,2),C=y[0],N=y[1],S=Object(a.useState)(!1),k=Object(u.a)(S,2),T=k[0],G=k[1],U=Object(a.useState)(!1),I=Object(u.a)(U,2),E=I[0],z=I[1],P=function(e){q.deleteGroup(e).then((function(e){console.log(e)})).then((function(){window.location.reload(!1)}))},A=function(e,t){q.deleteThread(e,t).then((function(e){console.log(e)})).then((function(){window.location.reload(!1)}))};return Object(a.useEffect)((function(){q.getCreatedGroups().then((function(e){e.sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0})),s(e)})).catch((function(e){console.error(e)}))}),[]),Object(a.useEffect)((function(){q.getCreatedThreads().then((function(e){e.sort((function(e,t){var r=new Date(e.created);return new Date(t.created).getTime()-r.getTime()})),m(e)})).catch((function(e){console.error(e)}))}),[]),Object(a.useEffect)((function(){q.getCreatedComments().then((function(e){e.sort((function(e,t){var r=new Date(e.created);return new Date(t.created).getTime()-r.getTime()})),N(e)})).catch((function(e){console.error(e)}))}),[]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("header",{className:"jumbotron",children:Object(n.jsxs)("h3",{children:["Profile: ",Object(n.jsx)("strong",{children:e.username})]})}),Object(n.jsxs)(W.a,{type:"card",children:[Object(n.jsx)(K,{tab:"Profile Info",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Email:"})," ",e.email]})},"1"),Object(n.jsxs)(K,{tab:"Groups",children:[Object(n.jsx)("div",{className:"group-cards",children:Object(n.jsx)("ul",{children:c.sort().map((function(e){return Object(n.jsx)(R.a,{gutter:16,className:"group-row",children:Object(n.jsx)(B.a,{span:23,children:Object(n.jsxs)(J.a,{title:e.name,bordered:!0,children:[Object(n.jsxs)(o.b,{to:"/groups/"+e.id,children:[" ",Object(n.jsx)(_.a,{type:"primary",size:"small",children:"Go To Group"})]})," ",Object(n.jsx)(_.a,{type:"primary",size:"small",danger:!0,onClick:function(){return t=e.id,G(!0),void d(t);var t},children:"Delete Group"})]})})})}))})}),Object(n.jsx)(V.a,{visible:T,title:"Are You Sure?",onOk:function(){G(!1),P(j)},onCancel:function(){G(!1)},children:Object(n.jsx)("p",{children:"Are you sure you wish to delete this group?"})})]},"2"),Object(n.jsxs)(K,{tab:"Threads",children:[Object(n.jsx)("ul",{children:O.map((function(e){return Object(n.jsx)(R.a,{gutter:16,className:"group-row",children:Object(n.jsx)(B.a,{span:23,children:Object(n.jsxs)(J.a,{title:e.title,type:"inner",extra:Object(n.jsx)(o.b,{to:"/groups/"+e.group,children:"Go to Group"}),bordered:!0,children:[Object(n.jsx)(o.b,{to:"/threads/"+e.group+"/"+e.id,children:Object(n.jsx)(_.a,{size:"small",type:"primary",children:"Go To Thread"})})," ",Object(n.jsx)(_.a,{type:"primary",size:"small",danger:!0,onClick:function(){return function(e,t){z(!0),d(e),g(t)}(e.group,e.id)},children:"Delete Thread"})," ",Object(n.jsx)("br",{})]})})})}))}),Object(n.jsx)(V.a,{visible:E,title:"Are You Sure?",onOk:function(){z(!1),A(j,v)},onCancel:function(){z(!1)},children:Object(n.jsx)("p",{children:"Are you sure you wish to delete this thread?"})})]},"3"),Object(n.jsx)(K,{tab:"Comments",children:Object(n.jsx)("ul",{children:C.map((function(e){return Object(n.jsx)(H.a,{actions:[Object(n.jsx)(o.b,{to:"/threads/"+e.group+"/"+e.thread,children:"Go to Thread"})],author:e.creator,content:Object(n.jsx)("p",{children:e.content}),datetime:Object(n.jsx)($.a,{title:e.created,children:Object(n.jsx)("span",{children:e.created})})})}))})},"4")]})]})},Q=r(413),X=r(415),Z=(r(330),Q.a.Search),ee=W.a.TabPane,te=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)([]),i=Object(u.a)(s,2),l=i[0],j=i[1],d=Object(a.useState)([]),b=Object(u.a)(d,2),h=b[0],p=b[1],O=Object(a.useState)([]),m=Object(u.a)(O,2),f=m[0],x=m[1],v=Object(a.useState)(""),g=Object(u.a)(v,2),w=g[0],y=g[1];Object(a.useEffect)((function(){q.getAllGroups().then((function(e){e.sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0})),j(e),p(e)})).catch((function(e){console.error(e)}))}),[]),Object(a.useEffect)((function(){q.getSubscribed().then((function(e){e.sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0})),x(e)})).catch((function(e){console.error(e)}))}),[]);return Object(n.jsxs)(W.a,{type:"card",onChange:function(e){"1"===e&&window.location.reload(!1)},children:[Object(n.jsx)(ee,{tab:"Subscribed Groups",children:Object(n.jsx)("div",{className:"group-cards",children:Object(n.jsx)("ul",{children:f.sort().map((function(e){return Object(n.jsx)(R.a,{gutter:16,className:"group-row",children:Object(n.jsx)(B.a,{span:23,children:Object(n.jsx)(J.a,{title:e.name,bordered:!0,children:Object(n.jsxs)(o.b,{to:"/groups/"+e.id,children:[" ",Object(n.jsx)(_.a,{type:"primary",size:"small",children:"Go To Group"})]})})})})}))})})},"1"),Object(n.jsx)(ee,{tab:"Search Groups",children:Object(n.jsxs)("div",{className:"group-search",children:[Object(n.jsx)("div",{className:"search-bar",children:Object(n.jsx)(Z,{placeholder:"Search for group",size:"large",onSearch:function(e){if(e){var t=l.filter((function(t){var r=t.name?t.name.toUpperCase():"".toUpperCase(),n=e.toUpperCase();return r.indexOf(n)>-1})).sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0}));p(t),c(e),console.log(r)}else p(l),c(e)},enterButton:"Search"})}),Object(n.jsxs)("div",{className:"group-cards",children:[w&&Object(n.jsx)(X.a,{message:w,type:"info"}),Object(n.jsx)("ul",{children:h.map((function(e){return Object(n.jsx)(R.a,{gutter:16,className:"group-row",children:Object(n.jsx)(B.a,{span:23,children:Object(n.jsxs)(J.a,{title:e.name,bordered:!0,children:[Object(n.jsx)(_.a,{type:"primary",size:"small",onClick:function(){return t=e.id,void q.Subscribe(t).then((function(e){y("You have subscribed successfully!")}),(function(e){y("You are already subscribed!")}));var t},children:"Subscribe"})," ",Object(n.jsx)(_.a,{type:"primary",size:"small",onClick:function(){return t=e.id,void q.unSubscribe(t).then((function(e){y("You have unsubscribed successfully!")}),(function(e){y("You are not subscribed or you're the creator of this group!")}));var t},children:"Unsubscribe"})," ",Object(n.jsxs)(o.b,{to:"/groups/"+e.id,children:[" ",Object(n.jsx)(_.a,{type:"primary",size:"small",children:"Go To Group"})]})]})})})}))})]})]})},"2")]})},re=r(411),ne=(r(337),{labelCol:{span:8},wrapperCol:{span:16}}),ae={wrapperCol:{offset:8,span:16}},ce=function(e){var t=function(){window.location.reload(!1)},r=Object(a.useState)([]),c=Object(u.a)(r,2),s=c[0],l=c[1],j=Object(a.useState)([]),d=Object(u.a)(j,2),b=d[0],h=d[1],p=e.match.params.id,O=Object(a.useState)(!1),m=Object(u.a)(O,2),f=m[0],x=m[1],v=Object(a.useState)(""),g=Object(u.a)(v,2),w=g[0],y=g[1],C=function(){x(!1)};return Object(a.useEffect)((function(){q.getGroup(p).then((function(e){l(e)})).catch((function(e){console.error(e)}))}),[p]),Object(a.useEffect)((function(){q.getGroupThreads(p).then((function(e){e.sort((function(e,t){var r=new Date(e.created);return new Date(t.created).getTime()-r.getTime()})),h(e)})).catch((function(e){console.error(e)}))}),[p]),Object(n.jsxs)("div",{className:"group-page",children:[w&&Object(n.jsx)(X.a,{message:w,type:"info"}),Object(n.jsx)(R.a,{gutter:16,children:Object(n.jsx)(B.a,{span:24,children:Object(n.jsxs)(J.a,{title:s.name,bordered:!0,children:[Object(n.jsx)("p",{children:s.description}),Object(n.jsxs)("p",{children:["Creator: ",s.creator]}),Object(n.jsxs)("p",{children:["Created: ",s.created]}),Object(n.jsx)(_.a,{type:"primary",size:"small",onClick:function(){return e=s.id,void q.Subscribe(e).then((function(e){y("You have subscribed successfully!")}),(function(e){y("You are already subscribed!")}));var e},children:"Subscribe"})," ",Object(n.jsx)(_.a,{type:"primary",size:"small",onClick:function(){return e=s.id,void q.unSubscribe(e).then((function(e){y("You have unsubscribed successfully!")}),(function(e){y("You are not subscribed or you're the creator of this group!")}));var e},children:"Unsubscribe"})," ",Object(n.jsx)(_.a,{size:"small",type:"primary",onClick:function(){x(!0)},children:"Create Thread"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("ul",{children:b.map((function(e){return Object(n.jsx)(R.a,{gutter:16,className:"group-row",children:Object(n.jsx)(B.a,{span:23,children:Object(n.jsx)(J.a,{title:e.title,type:"inner",bordered:!0,children:Object(n.jsxs)(o.b,{to:"/threads/"+s.id+"/"+e.id,children:[Object(n.jsx)(_.a,{size:"small",type:"primary",children:"Go To Thread"}),Object(n.jsx)("br",{})]})})})})}))})]})})}),Object(n.jsx)(V.a,{title:"Create a new thread!",visible:f,onOk:function(e){x(!1)},onCancel:C,allowClear:"true",footer:[Object(n.jsx)(_.a,{onClick:C,children:"Cancel"},"back")],children:Object(n.jsxs)(re.a,Object(i.a)(Object(i.a)({},ne),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){q.postThread(s.id,e.ThreadTitle,e.ThreadContent).then((function(){x(!1),t()}))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(n.jsx)(re.a.Item,{label:"Thread Title",name:"ThreadTitle",rules:[{required:!0,message:"Please input a title!"}],children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(re.a.Item,{label:"Thread Content",name:"ThreadContent",rules:[{required:!0,message:"Please input some content!"}],children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(re.a.Item,Object(i.a)(Object(i.a)({},ae),{},{children:Object(n.jsx)(_.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})]})},se=Q.a.Search,oe=function(e){var t=Object(a.useState)([]),r=Object(u.a)(t,2),c=r[0],s=r[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),j=l[0],d=l[1],b=e.match.params.threadId,h=e.match.params.groupId,p=Object(a.useState)(!1),O=Object(u.a)(p,2),m=O[0],f=O[1],x=function(){window.location.reload(!1)},v=function(){f(!1)};return Object(a.useEffect)((function(){q.getComments(b).then((function(e){d(e)})).catch((function(e){console.error(e)}))}),[b]),Object(a.useEffect)((function(){q.getThread(h,b).then((function(e){s(e)})).catch((function(e){console.error(e)}))}),[b,h]),Object(a.useEffect)((function(){q.getComments(b).then((function(e){d(e)})).catch((function(e){console.error(e)}))}),[b]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{gutter:16,className:"group-row",children:Object(n.jsx)(B.a,{span:23,children:Object(n.jsxs)(J.a,{title:c.title,extra:Object(n.jsx)(o.b,{to:"/groups/"+c.group,children:"Go to Group"}),bordered:!0,children:[Object(n.jsx)("p",{children:c.content}),Object(n.jsx)(_.a,{type:"primary",onClick:function(){f(!0)},children:"Add Comment"}),Object(n.jsx)("br",{})]})})})}),Object(n.jsx)(V.a,{title:"Post a Comment!",visible:m,onOk:function(e){f(!1)},onCancel:v,allowClear:"true",footer:[Object(n.jsx)(_.a,{onClick:v,children:"Cancel"},"back")],children:Object(n.jsx)(se,{placeholder:"Write your comment here!",enterButton:"Post",size:"large",onSearch:function(e){q.postComment(b,e).then((function(){f(!1),x()}))}})}),Object(n.jsx)("ul",{children:j.map((function(e){return Object(n.jsx)(H.a,{author:e.creator,content:Object(n.jsx)("p",{children:e.content}),datetime:Object(n.jsx)($.a,{title:e.created,children:Object(n.jsx)("span",{children:e.created})})})}))})]})},ie={labelCol:{span:8},wrapperCol:{span:10}},ue={wrapperCol:{offset:8,span:16}},le=function(e){var t=Object(a.useState)(""),r=Object(u.a)(t,2),c=r[0],s=r[1],o=Object(a.useState)(""),l=Object(u.a)(o,2),j=l[0],d=l[1],b=Object(a.useState)(""),h=Object(u.a)(b,2),p=h[0],O=h[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("center",{children:Object(n.jsx)("h1",{children:"Group Creation"})})}),Object(n.jsx)("div",{children:p&&Object(n.jsx)(X.a,{message:p,type:"info"})}),Object(n.jsx)("br",{}),Object(n.jsxs)(re.a,Object(i.a)(Object(i.a)({},ie),{},{name:"basic",onFinish:function(t){q.createGroup(c,j).then((function(t){e.history.push("/groups/"+t.id)}),(function(e){O("A group with that name already exists!")}))},children:[Object(n.jsx)(re.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please give your group a name!"}],children:Object(n.jsx)(Q.a,{onChange:function(e){var t=e.target.value;s(t)}})}),Object(n.jsx)(re.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please give your group a description!"}],children:Object(n.jsx)(Q.a,{onChange:function(e){var t=e.target.value;d(t)}})}),Object(n.jsx)(re.a.Item,Object(i.a)(Object(i.a)({},ue),{},{children:Object(n.jsx)(_.a,{type:"primary",htmlType:"submit",children:"Create"})}))]}))]})},je=function(){var e=Object(a.useState)(void 0),t=Object(u.a)(e,2),r=t[0],c=t[1];Object(a.useEffect)((function(){var e=h.getCurrentUser();e&&c(e)}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[r?Object(n.jsx)(o.b,{to:"/home",className:"navbar-brand",children:"Thread3r"}):Object(n.jsx)(o.b,{to:"/login",className:"navbar-brand",children:"Thread3r"}),Object(n.jsxs)("div",{className:"navbar-nav mr-auto",children:[r&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/home",className:"nav-link",children:"Home"})}),r&&Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/groupsearch",className:"nav-link",children:"Groups"})}),r&&Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/groupcreate",className:"nav-link",children:"Create Group"})})]}),r?Object(n.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/profile",className:"nav-link",children:r.username})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/login",className:"nav-link",onClick:function(){h.logout(),c(void 0)},children:"Log Out"})})]}):Object(n.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{to:"/register",className:"nav-link",children:"Register"})})]})]}),Object(n.jsx)("div",{className:"container mt-3",children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/home",component:L}),Object(n.jsx)(l.a,{exact:!0,path:["/","/login"],component:w}),Object(n.jsx)(l.a,{exact:!0,path:"/register",component:T}),Object(n.jsx)(l.a,{exact:!0,path:"/profile",component:M}),Object(n.jsx)(l.a,{exact:!0,path:"/groupsearch",component:te}),Object(n.jsx)(l.a,{exact:!0,path:"/groupcreate",component:le}),Object(n.jsx)(l.a,{exact:!0,path:"/groups/:id",render:function(e){return Object(n.jsx)(ce,Object(i.a)({},e))}}),Object(n.jsx)(l.a,{exact:!0,path:"/threads/:groupId/:threadId",render:function(e){return Object(n.jsx)(oe,Object(i.a)({},e))}})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(o.a,{basename:"/thread3r-frontend",children:Object(n.jsx)(je,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[407,1,2]]]);
//# sourceMappingURL=main.7df7d0af.chunk.js.map